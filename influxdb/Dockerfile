FROM influxdb:latest
ARG INFLUXDB_USERNAME
ARG INFLUXDB_PASSWORD
ARG INFLUXDB_ORG
ARG INFLUXDB_BUCKET
ARG INFLUXDB_ADMIN_TOKEN
LABEL maintainer="sibedge.com"

ADD influx_init.iql /docker-entrypoint-initdb.d/influx_init.iql

ENV DOCKER_INFLUXDB_INIT_MODE=setup
ENV DOCKER_INFLUXDB_INIT_USERNAME=${INFLUXDB_USERNAME}
ENV DOCKER_INFLUXDB_INIT_PASSWORD=${INFLUXDB_PASSWORD}
ENV DOCKER_INFLUXDB_INIT_ORG=${INFLUXDB_ORG}
ENV DOCKER_INFLUXDB_INIT_BUCKET=${INFLUXDB_BUCKET}
ENV DOCKER_INFLUXDB_INIT_ADMIN_TOKEN=${INFLUXDB_ADMIN_TOKEN}